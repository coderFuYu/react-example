<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>留言功能 HTML 版</title>
    <style type="text/css">
      #app {
        display: flex;
        justify-content: center;
      }
      .root {
        width: 1440px;
        background-color: #ffffff;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .title {
        color: red;
      }

      .content {
        box-sizing: border-box;
        width: 1289px;
        color: #333333;
        font-family: Source Han Sans CN;
        font-weight: regular;
        font-size: 28px;
        line-height: normal;
        letter-spacing: 0px;
        text-align: left;
      }

      .evaluateBox {
        width: 1280px;
        min-height: 100px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .titleText {
        width: 1280px;
        color: #333333;
        font-family: Source Han Sans CN;
        font-weight: medium;
        font-size: 30px;
        line-height: normal;
        letter-spacing: 0px;
        text-align: left;
        border-bottom: 2px solid #ececec;
        align-self: flex-start;
      }

      .evaluateItem {
        width: 1280px;
        min-height: 100px;
        display: flex;
        padding: 30px;
      }

      .senderProfile {
        display: flex;
        flex-direction: column;
      }

      .headImg {
        width: 60px;
        height: 60px;
        margin-right: 10px;
        border-radius: 50%;
      }
      .nickName {
        color: #333333;
        font-family: Source Han Sans CN;
        font-weight: regular;
        font-size: 22px;
        line-height: normal;
        letter-spacing: 0px;
        text-align: left;
      }

      .sendTime {
        height: 27px;
        color: #999999;
        font-family: Source Han Sans CN;
        font-weight: regular;
        font-size: 18px;
        line-height: normal;
        letter-spacing: 0px;
        text-align: left;
      }
      .evaluate {
        margin-top: 10px;
        width: 1200px;
        border-bottom: 2px solid #ececec;
        color: #333333;
        font-family: Source Han Sans CN;
        font-weight: regular;
        font-size: 24px;
        line-height: normal;
        letter-spacing: 0px;
        text-align: left;
        padding-bottom: 10px;
      }

      .sendEvaluate {
        width: 1280px;
        min-height: 120px;
        margin-top: 10px;
        display: flex;
      }
      .inputBox {
        width: 1200px;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
      }
      .inputText {
        width: 1200px;
        height: 80px;
        background-color: #ccc;
        border: none;
        border-radius: 10px;
        background: #f6f6f6;
        margin-bottom: 10px;
      }

      .sendSubmit {
        width: 110px;
        height: 43px;
        color: #ffffff;
        font-family: Source Han Sans CN;
        font-weight: medium;
        font-size: 22px;
        line-height: 43px;
        letter-spacing: 0px;
        text-align: center;
        border-radius: 10px;
        background: #00a7de;
      
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">
      class App extends React.Component {
        constructor() {
          super();
          this.state = {
            message:
              "你知道有这么一个团队吗？他们怀揣梦想，艰苦奋斗，作为一群大学生菜鸟，放弃了平时娱乐的时间，选择一起学习，一起成长，将平时学习的笔记，心得总结为文章，目的很简单，希望可以帮助向他们一样的菜鸟们？你想了解更多吗？快搜索微信公众号：小和山的菜鸟们，加入他们吧！",
            evaluateList: [
              {
                imgUrl: "https://xhs-rookies.com/img/rookie-icon.png",
                nickName: "菜鸟一号",
                sendTime: "2021.05.14",
                evaluate:
                  "这是一个即将推出系列文章的团队，我们一起期待他们的作品吧！",
              },
            ],
            inputMess: "",
          };
        }

        render() {
          return (
            <div className="root">
              <div className="title">Hello React</div>
              <p className="content">{this.state.message}</p>
              <div className="evaluateBox">
                <div className="titleText">大伙的评论</div>
                {/* 遍历留言列表 */}
                {this.state.evaluateList.map((item) => {
                  return (
                    <div className="evaluateItem">
                      <img className="headImg" src={item.imgUrl} />
                      <div className="senderProfile">
                        <div className="nickNameBox">
                          <div className="nickName">{item.nickName}</div>
                          <div className="sendTime">{item.sendTime}</div>
                        </div>
                        <div className="evaluate">{item.evaluate}</div>
                      </div>
                    </div>
                  );
                })}
              </div>
              {/* 留言输入框 */}
              <div className="sendEvaluate">
                <img
                  className="headImg"
                  src="https://xhs-rookies.com/img/rookie-icon.png"
                />
                <div className="inputBox">
                  <textarea
                    className="inputText"
                    placeholder="请输入评论..."
                    value={this.state.inputMess}
                    onChange={(e) => this.getEvaluate(e)}
                  />
                  <div className="sendSubmit" onClick={() => this.sendSubmit()}>
                    发表
                  </div>
                </div>
              </div>
            </div>
          );
        }
        // 获取输入内容
        getEvaluate(e) {
          console.log(e.target.value);
          this.setState({
            inputMess: e.target.value,
          });
        }
        // 发送留言并清空输入框
        sendSubmit() {
          let data = [
            {
              imgUrl: "https://xhs-rookies.com/img/rookie-icon.png",
              nickName: "菜鸟一号",
              sendTime: "2021.05.14",
              evaluate: this.state.inputMess,
            },
          ];
          this.setState({
            // 将原数据和新数据插入 留言列表
            evaluateList: [...data, ...this.state.evaluateList],
            inputMess: "",
          });
        }
      }

      ReactDOM.render(<App />, document.getElementById("app"));
    </script>
  </body>
</html>
